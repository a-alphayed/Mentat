# Dynamic MCP Server Activation Pattern
# Just-in-time activation patterns for MCP servers

activation_patterns:
  context7:
    triggers:
      - "import statements from external libraries"
      - "framework-specific questions"
      - "documentation requests"
      - "best practices queries"
    context_keywords:
      - "how to use"
      - "documentation"
      - "examples"
      - "patterns"
    activation_confidence: 0.8
    
  sequential:
    triggers:
      - "complex debugging scenarios"
      - "multi-step analysis requests"
      - "--think flags detected"
      - "system design questions"
    context_keywords:
      - "analyze"
      - "debug"
      - "complex"
      - "system"
      - "architecture"
    activation_confidence: 0.85
    
  magic:
    triggers:
      - "UI component requests"
      - "design system queries"
      - "frontend development"
      - "component keywords"
    context_keywords:
      - "component"
      - "UI"
      - "frontend"
      - "design"
      - "interface"
    activation_confidence: 0.9
    
  playwright:
    triggers:
      - "testing workflows"
      - "browser automation"
      - "e2e testing"
      - "performance monitoring"
    context_keywords:
      - "test"
      - "browser"
      - "automation"
      - "e2e"
      - "performance"
    activation_confidence: 0.85
    
  morphllm:
    triggers:
      - "multi-file editing"
      - "pattern application"
      - "fast apply scenarios"
      - "code transformation"
    context_keywords:
      - "edit"
      - "modify"
      - "refactor"
      - "transform"
      - "apply"
    activation_confidence: 0.8
    
  serena:
    triggers:
      - "semantic analysis"
      - "project-wide operations"
      - "symbol navigation"
      - "memory management"
    context_keywords:
      - "analyze"
      - "project"
      - "semantic"
      - "memory"
      - "context"
    activation_confidence: 0.75

coordination_patterns:
  hybrid_intelligence:
    serena_morphllm:
      condition: "complex editing with semantic understanding"
      strategy: "serena analyzes, morphllm executes"
      confidence_threshold: 0.8
      
  multi_server_activation:
    max_concurrent: 3
    priority_order:
      - "serena"
      - "sequential" 
      - "context7"
      - "magic"
      - "morphllm"
      - "playwright"
      
  fallback_strategies:
    server_unavailable: "graceful_degradation"
    timeout_handling: "partial_results"
    error_recovery: "alternative_server"

performance_optimization:
  cache_activation_decisions: true
  cache_duration_minutes: 15
  batch_similar_requests: true
  lazy_loading: true